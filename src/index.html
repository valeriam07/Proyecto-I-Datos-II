<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">       
    <title>Form</title>
<!-------------------------------------------------------------------------------MY STYLE-->    
    <style>
        div.container{
            text-align: center;
        }
        div.container-content{
            font-size: 200%;
            text-align: center;
        }
        .table {
            
            border: 1px solid white;
            margin:0 auto;
        }
        th {
        height: 50px;
        }
        table, td, th {
        border: 1px solid white;
        }
        button {
        background-color: #f44336; /* Green */
        border-radius: 2px;
        border-color: tomato;
        color: white;
        padding: 10px 27px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        }
        p{
            font-size: 200%;
        }


    </style>
</head>
<body>
<!------------------------------------------------------------------------------MY GARBAGE COLLECTOR DATA-->
<div class="container">
        <div class="container-content">
            <table class="table">	   
                <thead>	      
                    <tr> 
                        <th scope="col">#</th>	         	                
                        <th scope="col">ID </th>	               
                        <th scope="col">Dirección de Memoria</th>
                        <th scope="col">Valor Asignado</th>	                            
                    </tr>
                </thead>
                <tbody id="content"></tbody> 
            </table>	    
        </div>
        <p> ¿Cual Memoria Desea utilizar?</p>
        <button  onclick="MemoVir()">Memoria Virtual</button>   
        <button  onclick="MemoComp()">Memoria del Computador</button> 
<!-----------------------------------------------------------------------------MY FORM-->
    <h1 id ="pruebas">pruebas</h1>
    <form id = "myData">

    </form>
    <h2 id = "EsConex"></h2>
    <h4 id = "contador"></h4>
   
  
 <!----------------------------------------------------------------------------------------MY CONTROL-->     
    <script>
        var GC = "";
//----------------------------------------------------------------------------SENDING DATA
 
         
         function Post() {
            const vscode = acquireVsCodeApi();
            
            const dname = document.getElementById("name");
            const dpassword = document.getElementById("pass");
            const dport = document.getElementById("port");

            vscode.postMessage({port: dport.value , name: dname.value , password: dpassword.value})
            server();
        }

        // Handle the message inside the webview

//----------------------------------------------------------------------------RECIEVE DATA

window.addEventListener('message', event => {

const message = event.data; // The JSON data our extension sent
GC = message;


switch (message.One) {
    case 1:

    count = Math.ceil(5433);
    //crearTabla(message);
    //counter.textContent = count;
    break;
        

}

});

//----------------------------------------------------------------------------MANNAGE DATA


//------------------------------------------------------------BUTTON COMPUTER
function MemoComp(){
    
    const table = document.getElementById("table");
                let a = 0;


 //   { 	"One":1,
   //     "Adress":["0x23","0xF16"],
     //   "IP":["pointer1", "pointer2"]
     //}
// "info":[{"address":"idk" , "value": 0, "ID": 0}]


                content.innerHTML= ""
                var cont = 0;
                var largo = GC.info.length;
                var add = GC.info[0][0];
                
                for(var i=0; i<= largo-1; i++){
                
                content.innerHTML += `
                    <tr>
                    <th scope = "row">${i}</th>
                    <td>${GC.info[i].ID}</td>
                    <td>${GC.info[i].address}</td>
                    <td>${GC.info[i].value}</td>
                    </tr>
            
                    `
                
                }
                
}

//------------------------------------------------------------BUTTON VIRTUAL MEMORY


//--------------------------------------------- MY FORM

function MemoVir(){z
    myData.innerHTML = `
         name: <input type="text" name="fname" id="name"><br>
        password: <input type="text" name="lname" id="pass"><br>
        port: <input type="text" name="lname" id="port"><br><br>
        <button onclick="Post()"> Use</button><br>
             `
}

//-------------------------------------------- VERIFICATION SERVER

function server(){
        EsConex.innerHTML = 
        `<h3> esperando conexión</h3>
                `
        const counter = document.getElementById('c');

    let count = 0;
    setInterval(() => {
        if(count != 15){
        counter.textContent = count++;
    }else{
        EsConex.innerHTML = 
        `<h3>conexión Exitosa</h3>
                `
        //document.getElementById('c')= "";
        myData.innerHTML = `
        
        `
        MemoComp();
    
    }
    }, 100);

   
 
 }







      
    
</script>
</body>
</html>
