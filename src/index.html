<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
   
    <!--<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB"
        crossorigin="anonymous">-->	       
    <title>Form</title>
<!-------------------------------------------------------------------------------MY STYLE-->    
    <style>
        div.container{
            text-align: center;
        }
        div.container-content{
            font-size: 300%;
        }

    </style>
</head>

<body>
<!------------------------------------------------------------------------------MY GARBAGE COLLECTOR DATA-->
<p> Â¿Cual Memoria Desea utilizar?</p>
<button  onclick="MemoVir()">Memoria Virtual</button>   
<button  onclick="MemoComp()">Memoria del Computador</button> 


<div class="container">
    
        <div class="container-content">
            <table class="table">	   
                <thead>	      
                    <tr>	           	                
                        <th scope="col">Tipo.D</th>	               
                        <th scope="col">Valor.D</th>	               
                       	                
                    </tr>
                       
                </thead>
                <tbody id="content"></tbody>
                      
            </table>	    
        
        </div>
    
<!-----------------------------------------------------------------------------MY FORM-->
    <p>Enter names in the fields, then click "Submit" to submit the form:</p>
    
    <h1 id ="pruebas">pruebas</h1>
    <form id = "myData">

    </form>
    <h2 id = "EsConex"></h2>
    <h4 id = "contador"></h4>
    <h1 id="c">0</h1>
  
 <!----------------------------------------------------------------------------------------MY CONTROL-->     
    <script>
        var GC = "";
//----------------------------------------------------------------------------SENDING DATA
         //const counter = document.getElementById('c');
         
         function Post() {
            const vscode = acquireVsCodeApi();
            
            const dname = document.getElementById("name");
            const dpassword = document.getElementById("pass");
            const dport = document.getElementById("port");

            vscode.postMessage({port: dport.value , name: dname.value , password: dpassword.value})
            server();
        }

        // Handle the message inside the webview

//----------------------------------------------------------------------------RECIEVE DATA

window.addEventListener('message', event => {

const message = event.data; // The JSON data our extension sent
GC = message;


switch (message.One) {
    case 1:

    count = Math.ceil(5433);
    //crearTabla(message);
    //counter.textContent = count;
    break;
        

}

});

//----------------------------------------------------------------------------MANNAGE DATA


//------------------------------------------------------------BUTTON COMPUTER
function MemoComp(){
    document.getElementById('pruebas').innerHTML = GC.Adress[0];

    const table = document.getElementById("table");
                let a = 0;

                content.innerHTML= ""

                while(a<2){
                
                content.innerHTML += `
                    <tr>
                    <th scope = "row">${a}</th>
                    <td>${GC.Adress[a]}</td>
                    <td>${GC.IP[a]}</td>
                    </tr>
            
                    `
                    a++;
                }
}

//------------------------------------------------------------BUTTON VIRTUAL MEMORY


//--------------------------------------------- MY FORM

function MemoVir(){
    myData.innerHTML = `
         name: <input type="text" name="fname" id="name"><br>
        password: <input type="text" name="lname" id="pass"><br>
        port: <input type="text" name="lname" id="port"><br><br>
        <button onclick="Post()"> Use</button><br>
             `
}

//-------------------------------------------- VERIFICATION SERVER

function server(){
        EsConex.innerHTML = 
        `<h3> esperando coneccion</h3>
                `
        const counter = document.getElementById('c');

    let count = 0;
    setInterval(() => {
        if(count != 15){
        counter.textContent = count++;
    }else{
        EsConex.innerHTML = 
        `<h3>coneccion Exitosa</h3>
                `
        //document.getElementById('c')= "";
        myData.innerHTML = `
        
        `
        MemoComp();
    
    }
    }, 100);

   
 
 }







      
    
</script>
</body>
</html>
