<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB"
        crossorigin="anonymous">
    <title>Cat Coding</title>
</head>





<p id="demo"></p>
<h1 id="lines-of-code-counter">0</h1>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script type="text/javascript">
   
</script>

    <script type="text/javascript">
    "use strict";
    function UseServer(){
        const fs = require(fs);
        fs.readFile('./UserData.json', 'utf-8', (err,jsonString) =>{
            const read = jsonString.password;
            const ready= "ready";
        })

        salida.innerHTML += `
        <h1>${read}</h1>
    `


    }
//-------------------------------------------------------------------------------------------UPDATE JSON
            


 //-----------------------------------------------------------------------------------------USANDO SERVER      
 

        function UpdateJson() {
            
            
            //const fileName= "UserData.json";
            //let file = require(fileName);


          
            var sub= document.getElementById("name").value;
            var values= document.getElementById("frml").elements;
            var value = values[0];
            

           
            var x = document.getElementById("frm1");
            var text = "";
            var i=0;
            for (i = 0; i < x.length ;i++) {
                text += x.elements[i].value + "<br>";
               
                 }
                 document.getElementById("demo").innerHTML = text;

            
                        }
        
//---------------------------------------------------------------------------------------RESULTADOS

        function Results(){

            (function() {
            const vscode = acquireVsCodeApi();
            const table = document.getElementById("table");
            const counter = document.getElementById('lines-of-code-counter');
            let count = 0;
            let a = 0;
            var namem= "alo";
            salida.innerHTML += `
        <h1>${namem}</h1>
    `;
            setInterval(() => {

                
                var table = document.getElementById("contenido");
                
                counter.textContent = count++;
                
                while(a<5){
                a++;
                contenido.innerHTML += `
                    <tr>
                    
                    <th scope = "row">1</th>
                    <td>saludo</td>
                    <td>char</td>
                    <td>hola</td>
                    </tr>
                    `
                }              
                // Alert the extension when our cat introduces a bug
            }, 100);
        }
        ())}
    </script>
<body>
 <div class="container my-5 text-center">
<div class="mt-5">
    <table class="table">
        <thead>
            <tr>
                <th scope="col">Dato</th>
                <th scope="col">Tipo.D</th>
                <th scope="col">Valor.D</th>
                <th scope="col">Ubi.Memoria</th>
            </tr>
        </thead>
        <tbody id="contenido"></tbody>
    </table>

<h1 id= "salida"></h1>
<p id="demo"></p>

<form class = "mt-5" id="frml" enctype='src/UserData.json'>

    <br>
   
</form>

<input  class="btn btn-danger w-100" type="button" value="Using Server" onclick="UseServer()"> 
<br>
<input  class="btn btn-danger w-100" type="button" value="Send Request" onclick="UpdateJson()">
<br>
<input  class="btn btn-danger w-100" type="button" value="Results" onclick="Results()">
    
</div>
</body>
</html>

<!--
<button onclick="myFunction()">Try it</button>
const table = document.getElementById("table");

function traer(){
    const vscode = acquireVsCodeApi();

    console.log("entra")
    var table = document.getElementById("contenido");
  contenido.innerHTML = ''
  for(i = 0; i< 4; i++){
    contenido.innerHTML += `
    <tr>
              <th scope = "row">1</th>
              <td>saludo</td>
              <td>char</td>
              <td>hola</td>
          </tr>
    
    `



    if (Math.random() < 0.001 * count) {
                    console.log("adios");
                    
                    vscode.postMessage({
                        command: 'alert',
                        text: '🐛  on line ' + count
                    }) 
                }

-->